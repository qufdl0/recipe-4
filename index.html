<!DOCTYPE html>
<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2025 by sangheekeem (http://jsbin.com/neralum/4/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>í™ˆíŒŒí‹° ê°„í¸ì‹ Recipe Book</title>
  <style>
    body {
      font-family: 'Pretendard', sans-serif;
      background-color: #fff8ef;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 30px 20px;
      text-align: center;
    }
    h1 {
      margin-bottom: 20px;
    }
    .recipe-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 20px;
    }
    .recipe-card {
      background: white;
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: transform 0.2s;
      cursor: pointer;
      text-decoration: none;
      color: inherit;
    }
    .recipe-card:hover {
      transform: translateY(-5px);
    }
    .image-placeholder img {
      width: 100%;
      height: 120px;
      object-fit: cover;
      border-radius: 8px;
    }
    .main-image {
      width: 100%;
      height: auto;
      margin: 10px 0;
      border-radius: 8px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: center;
    }
    .step-section {
      background-color: #e6f2d4;
      padding: 16px;
      margin-bottom: 16px;
      text-align: left;
    }
    .step-item {
      display: flex;
      align-items: flex-start;
      margin-bottom: 14px;
    }
    .step-text {
      flex: 1;
      margin-right: 12px;
    }
    .step-image {
      width: 100px;
      height: auto;
      border-radius: 6px;
    }
    .controls, .review {
      margin-top: 20px;
      text-align: center;
    }
    .review textarea {
      width: 100%;
      height: 80px;
      margin-top: 10px;
    }
    .star-rating {
      font-size: 24px;
      color: #ccc;
      cursor: pointer;
    }
    .star-rating .filled {
      color: #f5b301;
    }
    button {
      padding: 10px;
      margin: 10px 0;
      border: none;
      background-color: #4d774e;
      color: white;
      cursor: pointer;
      border-radius: 6px;
    }
    button#homeBtn, button#musamHomeBtn, button#kanapeHomeBtn {
      background-color: #3a5f2b;
    }
    .done {
      background-color: #b0c89f;
      color: black;
      margin-top: 10px;
      border-radius: 6px;
      padding: 8px;
      display: none;
    }
    #review-list {
      margin-top: 30px;
      padding-top: 10px;
      border-top: 2px solid #aaa;
      max-height: 300px;
      overflow-y: auto;
      text-align: left;
    }
    #review-list div {
      background: #ffffff;
      padding: 10px;
      border-radius: 6px;
      margin-bottom: 10px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    #summary {
      margin-top: 20px;
      background: #d4e3c0;
      padding: 12px;
      border-radius: 8px;
      font-weight: bold;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>í™ˆíŒŒí‹° ê°„í¸ì‹ Recipe Book</h1>

    <!-- í™ˆ í™”ë©´ -->
    <div id="homeScreen">
      <p>ì•„ë˜ ë ˆì‹œí”¼ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•´ë³´ì„¸ìš”!</p>
      <div class="recipe-grid">
        <div class="recipe-card" data-recipe="kanape">
          <div class="image-placeholder">
            <img src="https://i.imgur.com/pcE5wo8.jpg" alt="ì¹´ë‚˜í˜" />
          </div>
          <h3>ì¹´ë‚˜í˜ (Kanape)</h3>
          <p>ê°„ë‹¨í•˜ê³  ê³ ê¸‰ìŠ¤ëŸ¬ìš´ í•‘ê±°í‘¸ë“œ</p>
        </div>
        <div class="recipe-card" data-recipe="musam">
          <div class="image-placeholder">
            <img src="https://i.imgur.com/JlNEJ93.jpg" alt="ë¬´ìŒˆë§ì´" />
          </div>
          <h3>ë¬´ìŒˆë§ì´</h3>
          <p>ê°€ë³ê³  ê±´ê°•í•œ ì±„ì†Œë¡¤</p>
        </div>
        <div class="recipe-card" data-recipe="sandwichRoll">
          <div class="image-placeholder">
            <img src="https://i.imgur.com/baOpiEM.jpg" alt="ìƒŒë“œìœ„ì¹˜ ë¡¤" />
          </div>
          <h3>ìƒŒë“œìœ„ì¹˜ ë¡¤</h3>
          <p>ì•„ì´ë“¤ì´ ì¢‹ì•„í•˜ëŠ” ë¶€ë“œëŸ¬ìš´ ë§›</p>
        </div>
        <div class="recipe-card" data-recipe="chickenSkewers">
          <div class="image-placeholder">
            <img src="https://i.imgur.com/kJjNZ8A.jpg" alt="ë‹­ê¼¬ì¹˜" />
          </div>
          <h3>ë‹­ê¼¬ì¹˜</h3>
          <p>ë“ ë“ í•˜ê³  ë§›ìˆëŠ” ê¼¬ì¹˜ìš”ë¦¬</p>
        </div>
        <div class="recipe-card" data-recipe="chocoFondue">
          <div class="image-placeholder">
            <img src="https://i.imgur.com/mF0zcev.jpg" alt="ë”¸ê¸° ì´ˆì½”íë“€" />
          </div>
          <h3>ë”¸ê¸° ì´ˆì½”íë“€</h3>
          <p>ê·€ì—½ê³  ë‹¬ì½¤í•œ ë””ì €íŠ¸</p>
        </div>
        <div class="recipe-card" data-recipe="sangria">
          <div class="image-placeholder">
            <img src="https://i.imgur.com/ce2ar8T.jpg" alt="ìƒê·¸ë¦¬ì•„" />
          </div>
          <h3>ìƒê·¸ë¦¬ì•„</h3>
          <p>ìƒí¼í•œ ê³¼ì¼ ì™€ì¸ ìŒë£Œ</p>
        </div>
      </div>
    </div>

    <!-- ë¬´ìŒˆë§ì´ ìƒì„¸ + í›„ê¸° í™”ë©´ -->
    <div id="musamScreen" style="display:none; text-align:left;">
      <button id="musamHomeBtn">ğŸ  í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
      <h2>[2] ë¬´ìŒˆë§ì´ (Radish Wrapping Roll)</h2>
      <img src="https://i.imgur.com/JlNEJ93.jpg" alt="ë¬´ìŒˆë§ì´ ë©”ì¸ ì´ë¯¸ì§€" class="main-image" />
      <table>
        <tr><th>ì¬ë£Œ</th><th>ì„¤ëª…</th></tr>
        <tr><td>ë¬´ìŒˆ</td><td>êµ¬ë§¤í•œ ì–‡ì€ ë¬´ìŒˆ ì¤€ë¹„</td></tr>
        <tr><td>í–„</td><td>ê¸¸ê²Œ ì±„ ì°ê¸°</td></tr>
        <tr><td>ì˜¤ì´</td><td>ì±„ ì°ê¸°</td></tr>
        <tr><td>íŒŒí”„ë¦¬ì¹´</td><td>ìƒ‰ê° ìˆê²Œ ì±„ ì°ê¸°</td></tr>
        <tr><td>í¬ë˜ë¯¸</td><td>ê¸¸ê²Œ ì°¢ì–´ì„œ ì¤€ë¹„</td></tr>
        <tr><td>ë§ˆìš”ë„¤ì¦ˆ</td><td>ì•½ê°„</td></tr>
      </table>
        <h3>ì¡°ë¦¬ ë‹¨ê³„</h3>
      <div class="step-section">
        <div class="step-item">
          <div class="step-text">
            <strong>1. ë¬´ìŒˆ í•œ ì¥ì„ í¼ì¹˜ê³  ì†ì¬ë£Œë¥¼ ê°€ìš´ë° ì˜¬ë¦°ë‹¤.</strong><br>
            <span style="color: #c0392b;">Tip 1.</span> ì¬ë£Œë¥¼ ë¶€ì±„ê¼´ ëª¨ì–‘ìœ¼ë¡œ ì˜¬ë ¤ë†“ìœ¼ë©´ ë” ì˜ˆìœ ëª¨ì–‘ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”!<br>
            <span style="color: #c0392b;">Tip 2.</span> ì±„ì†Œë¿ ì•„ë‹ˆë¼ ì—°ì–´, ì˜¤ë¦¬ê³ ê¸° ë“± ë‹¤ì–‘í•œ ì¡°í™”ë„ OK!<br>
            <span style="color: #c0392b;">Tip 3.</span> ìƒ‰ê°ì„ ê³ ë ¤í•´ì„œ ì•„ë˜ì— ì±„ì†Œë¥¼ ê¹”ê³  ìœ„ì— ì˜¬ë¦¬ë©´ ì‹œê°ì ìœ¼ë¡œ ì¢‹ì•„ìš”.
          </div>
          <img src="https://i.imgur.com/bvuNr8C.jpg" alt="ì¡°ë¦¬1" class="step-image">
        </div>
        <div class="step-item">
          <div class="step-text">
            <strong>2. ì–‘ì˜†ìœ¼ë¡œ í¼ì³ì ¸ìˆëŠ” ë¬´ë¥¼ ê°€ìš´ë°ì— ë®ëŠ”ë‹¤.</strong><br>
            <span style="color: #c0392b;">Tip 1.</span> ì¢Œìš° ì¤‘ ì–´ëŠ ìª½ì„ ë¨¼ì € ì ‘ë“  ìƒê´€ì—†ì§€ë§Œ ê· í˜• ë§ê²Œ ì ‘ëŠ” ê²Œ ì¤‘ìš”í•´ìš”!<br>
          </div>
          <img src="https://i.imgur.com/lzhuTGx.jpg" alt="ì¡°ë¦¬2" class="step-image">
        </div>
        <div class="step-item">
          <div class="step-text">
            <strong>3. ë§Œë“¤ì–´ë†¨ë˜ ê²¨ìì†ŒìŠ¤ë¥¼ ê°€ìš´ë° ë‘ê³  ê°€ì¥ìë¦¬ì— ëŒëŒ ë§ì•„ ë¬´ìŒˆë§ì´ë¥¼ ì˜¬ë ¤ ì™„ì„±í•œë‹¤.</strong>
          </div>
          <img src="https://i.imgur.com/YktF5oS.jpg" alt="ì¡°ë¦¬3" class="step-image">
        </div>
      </div>

      <div class="controls">
        <h3>ì¬ë£Œ ì†ì§ˆ ë° ì¡°ë¦¬ ì‹œê°„</h3>
        <div>
          <div id="timerDisplay">00:00</div>
          <button id="startBtn">â–¶ï¸ ì‹œì‘</button>
          <button id="pauseBtn">â¸ ì¤‘ì§€</button>
          <button id="resetBtn">â†» ì´ˆê¸°í™”</button>
        </div>
        <div class="done" id="doneMessage">ì™„ë£Œ!</div>
      </div>

      <div class="review">
        <h3>ë³„ì ê³¼ í›„ê¸° ë‚¨ê¸°ê¸°</h3>
        <div id="starContainer" class="star-rating" role="radiogroup" aria-label="ë³„ì  ì„ íƒ">
          <span class="star" data-value="1" role="radio" aria-checked="false" tabindex="0">â˜…</span>
          <span class="star" data-value="2" role="radio" aria-checked="false" tabindex="-1">â˜…</span>
          <span class="star" data-value="3" role="radio" aria-checked="false" tabindex="-1">â˜…</span>
          <span class="star" data-value="4" role="radio" aria-checked="false" tabindex="-1">â˜…</span>
          <span class="star" data-value="5" role="radio" aria-checked="false" tabindex="-1">â˜…</span>
        </div>
        <textarea id="reviewInput" placeholder="í›„ê¸°ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”..."></textarea><br />
        <button id="submitReviewBtn">ë“±ë¡</button>
      </div>

      <div id="summary"></div>
      <div id="review-list"></div>
    </div>

    <!-- ì¹´ë‚˜í˜ ìƒì„¸ + í›„ê¸° í™”ë©´ -->
    <div id="kanapeScreen" style="display:none; text-align:left;">
      <button id="kanapeHomeBtn">ğŸ  í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
      <h2>[1] ì¹´ë‚˜í˜ (Kanape)</h2>
      <img src="https://i.imgur.com/pcE5wo8.jpg" alt="ì¹´ë‚˜í˜ ë©”ì¸ ì´ë¯¸ì§€" class="main-image" />
      <table>
        <tr><th>ì¬ë£Œ</th><th>ì„¤ëª…</th></tr>
        <tr><td>í¬ë˜ì»¤</td><td>í”Œë ˆì¸ ë˜ëŠ” ì°¸ê¹¨ í¬ë˜ì»¤</td></tr>
        <tr><td>ìŠ¬ë¼ì´ìŠ¤ í–„</td><td>ëª¨ì–‘ ë§ì¶° ìë¥´ê¸°</td></tr>
        <tr><td>ìŠ¬ë¼ì´ìŠ¤ ì¹˜ì¦ˆ</td><td>ì ë‹¹í•œ í¬ê¸°ë¡œ ìë¥´ê¸°</td></tr>
        <tr><td>ë°©ìš¸í† ë§ˆí† </td><td>ì–‡ê²Œ ìŠ¬ë¼ì´ìŠ¤</td></tr>
        <tr><td>ì˜¬ë¦¬ë¸Œ, ì—°ì–´, í—ˆë¸Œ</td><td>í† í•‘ìš© ì„ íƒ ì¬ë£Œ</td></tr>
      </table>

       <h3>ì¡°ë¦¬ ë‹¨ê³„</h3>
    <div class="step-section">
      <div class="step-item">
        <div class="step-text">
          <strong>1. í¬ë˜ì»¤ë¥¼ í•˜ë‚˜ì”© í¼ì³ ì„¸íŒ…í•œë‹¤. ê¸°í˜¸ì— ë”°ë¼ ì°¸í¬ë˜ì»¤, ì•„ì´ë¹„ ë“± ììœ ë¡­ê²Œ í¬ë˜ì»¤ë¥¼ ì¤€ë¹„í•œë‹¤.</strong><br>
        </div>
        <img src="https://i.imgur.com/XifHltC.jpg" alt="ì¡°ë¦¬1" class="step-image">
      </div>
      <div class="step-item">
        <div class="step-text">
          <strong>2. ì†ì§ˆì„ ì™„ë£Œí•œ ì¹˜ì¦ˆ, ì˜¤ì´, í–„, í† ë§ˆí† , ì°¸ì¹˜ë¥¼ ì„¸íŒ…ëœ í¬ë˜ì»¤ ìœ„ì— ì›í•˜ëŠ” ìˆœì„œë¡œ ì˜¬ë ¤ ì™„ì„±í•œë‹¤.  </strong><br>
          <span style="color: #c0392b;">Tip1. ì¬ë£Œ ìˆœì„œë¥¼ í¬ë˜ì»¤ë§ˆë‹¤ ë‹¤ë¥´ê²Œ ì˜¬ë ¤ì„œ ìƒ‰ë‹¤ë¥¸ ëª¨ì–‘ì„ ë§Œë“¤ê±°ë‚˜ ì¢‹ì•„í•˜ëŠ” ì¬ë£Œë§Œ ì˜¬ë ¤ ì·¨í–¥ì— ë§ê²Œ ì¦ê¸¸ ìˆ˜ ìˆì–´ìš”!  
        </div>
        <img src="https://i.imgur.com/3OitQxi.jpg" alt="ì¡°ë¦¬2" class="step-image">
      </div>
    </div>

      <div class="controls">
        <h3>ì¬ë£Œ ì†ì§ˆ ë° ì¡°ë¦¬ ì‹œê°„</h3>
        <div>
          <div id="kanapeTimerDisplay">00:00</div>
          <button id="kanapeStartBtn">â–¶ï¸ ì‹œì‘</button>
          <button id="kanapePauseBtn">â¸ ì¤‘ì§€</button>
          <button id="kanapeResetBtn">â†» ì´ˆê¸°í™”</button>
        </div>
        <div class="done" id="kanapeDoneMessage">ì™„ë£Œ!</div>
      </div>

      <div class="review">
        <h3>ë³„ì ê³¼ í›„ê¸° ë‚¨ê¸°ê¸°</h3>
        <div id="kanapeStarContainer" class="star-rating" role="radiogroup" aria-label="ë³„ì  ì„ íƒ">
          <span class="star" data-value="1" role="radio" aria-checked="false" tabindex="0">â˜…</span>
          <span class="star" data-value="2" role="radio" aria-checked="false" tabindex="-1">â˜…</span>
          <span class="star" data-value="3" role="radio" aria-checked="false" tabindex="-1">â˜…</span>
          <span class="star" data-value="4" role="radio" aria-checked="false" tabindex="-1">â˜…</span>
          <span class="star" data-value="5" role="radio" aria-checked="false" tabindex="-1">â˜…</span>
        </div>
        <textarea id="kanapeReviewInput" placeholder="í›„ê¸°ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”..."></textarea><br />
        <button id="kanapeSubmitReviewBtn">ë“±ë¡</button>
      </div>

      <div id="kanapeSummary"></div>
      <div id="kanapeReviewList"></div>
    </div>

  </div>

<script>
  // í™”ë©´ ì „í™˜
  const homeScreen = document.getElementById('homeScreen');
  const musamScreen = document.getElementById('musamScreen');
  const kanapeScreen = document.getElementById('kanapeScreen');

  // í™ˆì—ì„œ ì¹´ë“œ í´ë¦­ ì‹œ ìƒì„¸ í™”ë©´ ì´ë™
  document.querySelectorAll('.recipe-card').forEach(card => {
    card.addEventListener('click', () => {
      const recipe = card.dataset.recipe;
      if(recipe === 'musam'){
        showMusam();
      } else if(recipe === 'kanape'){
        showKanape();
      } else {
        alert('í•´ë‹¹ ë ˆì‹œí”¼ëŠ” ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.');
      }
    });
  });

  // í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸° ë²„íŠ¼
  document.getElementById('musamHomeBtn').addEventListener('click', () => {
    musamScreen.style.display = 'none';
    homeScreen.style.display = 'block';
    resetMusamTimer();
  });
  document.getElementById('kanapeHomeBtn').addEventListener('click', () => {
    kanapeScreen.style.display = 'none';
    homeScreen.style.display = 'block';
    resetKanapeTimer();
  });

  // ë¬´ìŒˆë§ì´ í™”ë©´ ë³´ì—¬ì£¼ê¸°
  function showMusam() {
    homeScreen.style.display = 'none';
    musamScreen.style.display = 'block';
    loadMusamReviews();
  }

  // ì¹´ë‚˜í˜ í™”ë©´ ë³´ì—¬ì£¼ê¸°
  function showKanape() {
    homeScreen.style.display = 'none';
    kanapeScreen.style.display = 'block';
    loadKanapeReviews();
  }


  // ===========================
  // ë¬´ìŒˆë§ì´ íƒ€ì´ë¨¸ ê¸°ëŠ¥
  let musamTimerInterval;
  let musamSeconds = 0;
  const musamTimerDisplay = musamScreen.querySelector('#timerDisplay');
  const musamDoneMessage = musamScreen.querySelector('#doneMessage');
  const musamStartBtn = musamScreen.querySelector('#startBtn');
  const musamPauseBtn = musamScreen.querySelector('#pauseBtn');
  const musamResetBtn = musamScreen.querySelector('#resetBtn');

  musamStartBtn.addEventListener('click', () => {
    clearInterval(musamTimerInterval);
    musamTimerInterval = setInterval(() => {
      musamSeconds++;
      updateMusamTimer();
    }, 1000);
  });
  musamPauseBtn.addEventListener('click', () => {
    clearInterval(musamTimerInterval);
  });
  musamResetBtn.addEventListener('click', () => {
    clearInterval(musamTimerInterval);
    musamSeconds = 0;
    updateMusamTimer();
    musamDoneMessage.style.display = 'none';
  });

  function updateMusamTimer(){
    let min = Math.floor(musamSeconds / 60);
    let sec = musamSeconds % 60;
    musamTimerDisplay.textContent = `${String(min).padStart(2,'0')}:${String(sec).padStart(2,'0')}`;
    if(musamSeconds === 900){ // 15ë¶„
      musamDoneMessage.style.display = 'block';
    }
  }
  function resetMusamTimer() {
    clearInterval(musamTimerInterval);
    musamSeconds = 0;
    updateMusamTimer();
    musamDoneMessage.style.display = 'none';
  }

  // ===========================
  // ì¹´ë‚˜í˜ íƒ€ì´ë¨¸ ê¸°ëŠ¥
  let kanapeTimerInterval;
  let kanapeSeconds = 0;
  const kanapeTimerDisplay = kanapeScreen.querySelector('#kanapeTimerDisplay');
  const kanapeDoneMessage = kanapeScreen.querySelector('#kanapeDoneMessage');
  const kanapeStartBtn = kanapeScreen.querySelector('#kanapeStartBtn');
  const kanapePauseBtn = kanapeScreen.querySelector('#kanapePauseBtn');
  const kanapeResetBtn = kanapeScreen.querySelector('#kanapeResetBtn');

  kanapeStartBtn.addEventListener('click', () => {
    clearInterval(kanapeTimerInterval);
    kanapeTimerInterval = setInterval(() => {
      kanapeSeconds++;
      updateKanapeTimer();
    }, 1000);
  });
  kanapePauseBtn.addEventListener('click', () => {
    clearInterval(kanapeTimerInterval);
  });
  kanapeResetBtn.addEventListener('click', () => {
    clearInterval(kanapeTimerInterval);
    kanapeSeconds = 0;
    updateKanapeTimer();
    kanapeDoneMessage.style.display = 'none';
  });

  function updateKanapeTimer(){
    let min = Math.floor(kanapeSeconds / 60);
    let sec = kanapeSeconds % 60;
    kanapeTimerDisplay.textContent = `${String(min).padStart(2,'0')}:${String(sec).padStart(2,'0')}`;
    if(kanapeSeconds === 900){ // 15ë¶„
      kanapeDoneMessage.style.display = 'block';
    }
  }
  function resetKanapeTimer() {
    clearInterval(kanapeTimerInterval);
    kanapeSeconds = 0;
    updateKanapeTimer();
    kanapeDoneMessage.style.display = 'none';
  }


  // ===========================
  // ë³„ì  & í›„ê¸° (ë¬´ìŒˆë§ì´)

  const musamStars = musamScreen.querySelectorAll('#starContainer .star');
  const musamReviewInput = musamScreen.querySelector('#reviewInput');
  const musamSubmitReviewBtn = musamScreen.querySelector('#submitReviewBtn');
  const musamReviewList = musamScreen.querySelector('#review-list');
  const musamSummary = musamScreen.querySelector('#summary');
  let musamSelectedRating = 0;

  musamStars.forEach(star => {
    star.addEventListener('click', () => {
      musamSelectedRating = parseInt(star.dataset.value);
      updateStarDisplay(musamStars, musamSelectedRating);
    });
    star.addEventListener('keydown', e => {
      if(e.key === 'Enter' || e.key === ' '){
        e.preventDefault();
        musamSelectedRating = parseInt(star.dataset.value);
        updateStarDisplay(musamStars, musamSelectedRating);
      }
    });
  });

  function updateStarDisplay(stars, rating){
    stars.forEach(star => {
      if(parseInt(star.dataset.value) <= rating){
        star.classList.add('filled');
        star.setAttribute('aria-checked', 'true');
        star.tabIndex = 0;
      } else {
        star.classList.remove('filled');
        star.setAttribute('aria-checked', 'false');
        star.tabIndex = -1;
      }
    });
  }

  musamSubmitReviewBtn.addEventListener('click', () => {
    const reviewText = musamReviewInput.value.trim();
    if(musamSelectedRating === 0){
      alert('ë³„ì ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
      return;
    }
    if(reviewText === ''){
      alert('í›„ê¸°ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.');
      return;
    }
    saveMusamReview({ rating: musamSelectedRating, text: reviewText });
    musamReviewInput.value = '';
    musamSelectedRating = 0;
    updateStarDisplay(musamStars, 0);
    loadMusamReviews();
  });

  function saveMusamReview(review){
    let reviews = JSON.parse(localStorage.getItem('musamReviews') || '[]');
    reviews.push(review);
    localStorage.setItem('musamReviews', JSON.stringify(reviews));
  }

  function loadMusamReviews(){
    let reviews = JSON.parse(localStorage.getItem('musamReviews') || '[]');
    musamReviewList.innerHTML = '';
    if(reviews.length === 0){
      musamSummary.textContent = 'ë“±ë¡ëœ í›„ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤.';
      return;
    }
    // í‰ê·  ë³„ì  ê³„ì‚°
    let avg = reviews.reduce((acc, cur) => acc + cur.rating, 0) / reviews.length;
    musamSummary.textContent = `í›„ê¸° ${reviews.length}ê±´, í‰ê·  ë³„ì : ${avg.toFixed(1)} â˜…`;

    // í›„ê¸° ë¦¬ìŠ¤íŠ¸ ë Œë”ë§
    reviews.slice().reverse().forEach(r => {
      const div = document.createElement('div');
      div.innerHTML = `${'â˜…'.repeat(r.rating)}${'â˜†'.repeat(5 - r.rating)}<br>${escapeHTML(r.text)}`;
      musamReviewList.appendChild(div);
    });
  }


  // ===========================
  // ë³„ì  & í›„ê¸° (ì¹´ë‚˜í˜)

  const kanapeStars = kanapeScreen.querySelectorAll('#kanapeStarContainer .star');
  const kanapeReviewInput = kanapeScreen.querySelector('#kanapeReviewInput');
  const kanapeSubmitReviewBtn = kanapeScreen.querySelector('#kanapeSubmitReviewBtn');
  const kanapeReviewList = kanapeScreen.querySelector('#kanapeReviewList');
  const kanapeSummary = kanapeScreen.querySelector('#kanapeSummary');
  let kanapeSelectedRating = 0;

  kanapeStars.forEach(star => {
    star.addEventListener('click', () => {
      kanapeSelectedRating = parseInt(star.dataset.value);
      updateStarDisplay(kanapeStars, kanapeSelectedRating);
    });
    star.addEventListener('keydown', e => {
      if(e.key === 'Enter' || e.key === ' '){
        e.preventDefault();
        kanapeSelectedRating = parseInt(star.dataset.value);
        updateStarDisplay(kanapeStars, kanapeSelectedRating);
      }
    });
  });

  kanapeSubmitReviewBtn.addEventListener('click', () => {
    const reviewText = kanapeReviewInput.value.trim();
    if(kanapeSelectedRating === 0){
      alert('ë³„ì ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
      return;
    }
    if(reviewText === ''){
      alert('í›„ê¸°ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.');
      return;
    }
    saveKanapeReview({ rating: kanapeSelectedRating, text: reviewText });
    kanapeReviewInput.value = '';
    kanapeSelectedRating = 0;
    updateStarDisplay(kanapeStars, 0);
    loadKanapeReviews();
  });

  function saveKanapeReview(review){
    let reviews = JSON.parse(localStorage.getItem('kanapeReviews') || '[]');
    reviews.push(review);
    localStorage.setItem('kanapeReviews', JSON.stringify(reviews));
  }

  function loadKanapeReviews(){
    let reviews = JSON.parse(localStorage.getItem('kanapeReviews') || '[]');
    kanapeReviewList.innerHTML = '';
    if(reviews.length === 0){
      kanapeSummary.textContent = 'ë“±ë¡ëœ í›„ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤.';
      return;
    }
    // í‰ê·  ë³„ì  ê³„ì‚°
    let avg = reviews.reduce((acc, cur) => acc + cur.rating, 0) / reviews.length;
    kanapeSummary.textContent = `í›„ê¸° ${reviews.length}ê±´, í‰ê·  ë³„ì : ${avg.toFixed(1)} â˜…`;

    // í›„ê¸° ë¦¬ìŠ¤íŠ¸ ë Œë”ë§
    reviews.slice().reverse().forEach(r => {
      const div = document.createElement('div');
      div.innerHTML = `${'â˜…'.repeat(r.rating)}${'â˜†'.repeat(5 - r.rating)}<br>${escapeHTML(r.text)}`;
      kanapeReviewList.appendChild(div);
    });
  }

  // HTML Escape í•¨ìˆ˜ (ë³´ì•ˆ)
  function escapeHTML(text) {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
  }
</script>
</body>
</html>